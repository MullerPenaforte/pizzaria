{% extends 'usuarios/base.html' %}
{% block conteudo %}
    <!DOCTYPE html>
    <html>
    <head>
    <title>Página de Login</title>
    <style>
      

        form {
        display: flex;
        flex-direction: column;
        align-items: center;
        }

        input[type="text"],
        input[type="password"] {
        margin: 10px;
        padding: 5px;
        width: 200px;
        }

        button {
        margin-left: 10px;
        padding: 5px 10px;
        }

        #message {
        text-align: center;
        margin-bottom: 20px;
        }
    </style>
    </head>
    <body>
    <h2 id="message">Entre com seus dados por favor.</h2>
    <form method="POST" action="/login">
        <input type="text" name="username" placeholder="Usuário" required>
        <input type="password" name="password" placeholder="Senha" required>
        <a href="{% url 'cardapio2' %}" class="btn btn-primary" onclick="checkFields(event)">Entrar</a>
        <br>
        <h5 id="message">Caso não seja cliente, realize um cadastro primeiro.</h5>
        <h9 id="message"><a href="{% url 'cadastro' %}"> Cadastrar-se </a> </h9>
    </form>
    
    <script>
        function checkFields(event) {
            // Obter os valores dos campos de entrada
            var username = document.querySelector('input[name="username"]').value;
            var password = document.querySelector('input[name="password"]').value;
    
            // Verificar se os campos estão em branco
            if (username.trim() === '' || password.trim() === '') {
                // Cancelar o evento de clique para evitar o redirecionamento
                alert("Preencha usuário e senha!");
                event.preventDefault();
            } else if(username.trim() == "teste@gmail.com" && password.trim() == "1234") {
                // Redirecionar para o link especificado
                window.location.href = event.target.getAttribute('href');
            }
            
            else {
                alert("Usuário ou senha incorreto.");
                event.preventDefault();
            }
        }
    </script>
    
    </body>
    </html>
{% endblock %}
